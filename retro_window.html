<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Nayeon - Windows 93</title>
    <style>
        body {
				margin: 0;
				padding: 0;
				font-family: 'MS Sans Serif', 'Tahoma', sans-serif;
				background-color: #FFD4EE; /* pink! */
/*				background-color: #008080;  Windows 98 teal background */
				color: #000;
				overflow-x: hidden;
				cursor: url('media/icons/pixels/candy-cursor.gif');
			}

			.container {
				display: grid;
				grid-template-columns: 100px 1fr;
				grid-gap: 10px;
				padding: 10px;
				padding-bottom: 40px; /* Space for taskbar */
			}

			.sidebar {
				display: flex;
				flex-direction: column;
				gap: 20px;
			}

			.main-content {
				display: grid;
				grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
				grid-gap: 20px;
				padding-right: 20px;
			}

			.icon-container {
				display: flex;
				flex-direction: column;
				align-items: center;
				text-align: center;
				cursor: pointer;
			}

			.icon {
				width: 32px;
				height: 32px;
				margin-bottom: 5px;
				background-color: #FFE3F4;
/*				background-color: #c0c7c8; windows-gray */
				border: 1px solid #C9007C;
				border-radius: 8px;
				display: flex;
				align-items: center;
				justify-content: center;
				overflow: hidden;
				position: relative;	
				text-decoration: none;
			}

			.icon img {
				width: 100%;
				height: 100%;
				object-fit: cover; /* This is the key property */
				position: absolute;
				top: 0;
				left: 0;
			}	

			.icon-label {
/*				color: white;*/
				color: #C9007C;
				font-size: 14px;
			}
		
		.icon-label a{
/*				text-decoration: none;*/
			}
		
		/* Hover effect */
        a:hover .icon-label {
			opacity: 50%;
            transform: translateY(1px); /* Slight upward movement */
        }
        
        .window {
            background-color: #c0c7c8;
            border-top: 1px solid #dfdfdf;
            border-left: 1px solid #dfdfdf;
            border-right: 2px solid #000;
            border-bottom: 2px solid #000;
            box-shadow: 1px 1px 0 0 #000;
            overflow: hidden;
            margin-bottom: 20px;
            transition: all 0.3s ease;
            position: relative;
            z-index: 10;
            min-width: 200px;
            min-height: 150px;
        }
        
        /* Style for windows that have been moved/resized */
        .window.detached {
            position: absolute;
        }
        
        .resize-handle {
            position: absolute;
            width: 10px;
            height: 10px;
            background-color: transparent;
            border: none;
            z-index: 11;
        }
        
        .resize-handle.nw {
            top: 0;
            left: 0;
            cursor: nw-resize;
        }
        
        .resize-handle.ne {
            top: 0;
            right: 0;
            cursor: ne-resize;
        }
        
        .resize-handle.sw {
            bottom: 0;
            left: 0;
            cursor: sw-resize;
        }
        
        .resize-handle.se {
            bottom: 0;
            right: 0;
            cursor: se-resize;
        }
        
        .minimized {
            transform: scale(0.1);
            opacity: 0;
            position: fixed;
            bottom: -100px;
            z-index: -1;
            pointer-events: none;
        }
        
        .window-title {
            background: linear-gradient(90deg, #000080, #1084d0);
            color: white;
            font-weight: bold;
            padding: 3px 5px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            font-size: 11px;
            cursor: move;
        }
        
        .window-title-text {
            margin-left: 5px;
        }
        
        .window-buttons {
            display: flex;
        }
        
        .window-button {
            width: 14px;
            height: 14px;
            background-color: #c0c7c8;
            border-top: 1px solid #fff;
            border-left: 1px solid #fff;
            border-right: 1px solid #000;
            border-bottom: 1px solid #000;
            margin-left: 2px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 10px;
            cursor: pointer;
        }
        
        .post-info {
            background-color: #c0c7c8;
            padding: 5px;
            font-size: 12px;
            border-bottom: 1px solid #7f7f7f;
        }
        
        .post-content {
            background-color: #ffffff;
            padding: 5px;
            overflow: auto;
            max-height: 400px;
        }
        
        .post-content img {
            max-width: 100%;
            height: auto;
            display: block;
        }
        
        .post-content p {
            margin: 5px 0;
            font-size: 12px;
        }
        
        .footer {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            height: 32px;
            background-color: #c0c7c8;
            border-top: 2px solid #fff;
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 0 10px;
            z-index: 100;
        }
        
        .start-button {
            background: linear-gradient(to bottom, #fff, #dadada);
            border-top: 1px solid #fff;
            border-left: 1px solid #fff;
            border-right: 2px solid #000;
            border-bottom: 2px solid #000;
            height: 22px;
            display: flex;
            align-items: center;
            padding: 0 5px;
            font-weight: bold;
            font-size: 11px;
            cursor: pointer;
        }
        
        .start-logo {
            width: 16px;
            height: 16px;
            margin-right: 5px;
        }
        
        .time {
            background-color: #c0c7c8;
            border-top: 1px solid #808080;
            border-left: 1px solid #808080;
            border-right: 1px solid #fff;
            border-bottom: 1px solid #fff;
            padding: 2px 5px;
            font-size: 11px;
        }
        
        .tumblr-button {
            position: fixed;
            top: 20px;
            right: 20px;
            background-color: #001935;
            color: white;
            padding: 5px 10px;
            font-weight: bold;
            text-decoration: none;
            font-size: 12px;
        }
        
        .follow-button {
            position: fixed;
            top: 20px;
            right: 100px;
            background-color: transparent;
            color: white;
            padding: 5px 10px;
            font-weight: bold;
            text-decoration: none;
            font-size: 12px;
        }
        
        .post-caption {
            text-align: center;
            font-size: 11px;
            padding: 5px;
            background-color: #fff;
        }
        
        /* Windows Start Menu */
        .start-menu {
            position: fixed;
            bottom: 32px;
            left: 10px;
            width: 180px;
            background-color: #c0c7c8;
            border-top: 1px solid #fff;
            border-left: 1px solid #fff;
            border-right: 2px solid #000;
            border-bottom: 2px solid #000;
            display: none;
            z-index: 1000;
        }
        
        .menu-item {
            display: flex;
            align-items: center;
            padding: 5px;
            font-size: 11px;
            cursor: pointer;
        }
        
        .menu-item:hover {
            background-color: #000080;
            color: white;
        }
        
        .menu-icon {
            width: 16px;
            height: 16px;
            margin-right: 5px;
            background-color: #c0c7c8;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .menu-divider {
            height: 1px;
            background-color: #7f7f7f;
            margin: 5px 0;
        }
        
        .post-links {
            display: flex;
            justify-content: center;
            gap: 15px;
            padding: 5px;
            background-color: #fff;
            font-size: 11px;
        }
        
        .post-links a {
            text-decoration: none;
            color: #000;
        }
        
        .star {
            display: inline-block;
            margin: 0 2px;
        }
        
        /* Taskbar window buttons */
        .taskbar-windows {
            display: flex;
            flex: 1;
            margin: 0 10px;
            overflow-x: hidden;
        }
        
        .taskbar-window {
            background: linear-gradient(to bottom, #fff, #dadada);
            border-top: 1px solid #fff;
            border-left: 1px solid #fff;
            border-right: 1px solid #000;
            border-bottom: 1px solid #000;
            height: 22px;
            display: flex;
            align-items: center;
            padding: 0 5px;
            font-size: 11px;
            margin-right: 3px;
            min-width: 120px;
            max-width: 150px;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
            cursor: pointer;
        }
        
        .taskbar-window.active {
            background: linear-gradient(to bottom, #dadada, #fff);
        }
        
        /* Animation for minimizing */
        @keyframes minimizeWindow {
            0% {
                transform: scale(1);
                opacity: 1;
            }
            100% {
                transform: scale(0.1);
                opacity: 0;
                bottom: 0;
            }
        }
        
        @keyframes restoreWindow {
            0% {
                transform: scale(0.1);
                opacity: 0;
                bottom: 0;
            }
            100% {
                transform: scale(1);
                opacity: 1;
            }
        }
        
        .minimize-animation {
            animation: minimizeWindow 0.3s forwards;
        }
        
        .restore-animation {
            animation: restoreWindow 0.3s forwards;
        }
    </style>
</head>
<body>
    <a href="#" class="follow-button">Follow heartsl0b</a>
    <a href="#" class="tumblr-button">tumblr</a>
    
    <div class="container">
        <div class="sidebar">
            <div class="icon-container">
                <div class="icon">🏠</div>
                <div class="icon-label">home</div>
            </div>
            
            <div class="icon-container">
                <div class="icon">🌐</div>
                <div class="icon-label">website</div>
            </div>
            
            <a href="https://www.instagram.com/_yours_gladys/" target="_blank">
			<div class="icon-container">
                <div class="icon">
				<img src="media/icons/pixels/ig-pink.png">	
				</div>
                <div class="icon-label">instagram</div>
            </div>
				</a>
            
            <a href="https://www.linkedin.com/in/nayeonk/" target="_blank">
			<div class="icon-container">
                <div class="icon">
				<img src="media/icons/pixels/li-pink.png">	
				</div>
                <div class="icon-label">linkedin</div>
            </div>
				</a>
            
            <a href = "mailto:hellonaykim@gmail.com?subject=Hello! Let's Chat." target="_blank">
			<div class="icon-container">
                <div class="icon">
				<img src="media/icons/pixels/email-pink.png">	
				</div>
                <div class="icon-label">email</div>
            </div>
				</a>
        </div>
        
        <div class="main-content">
            <!-- Post 1 -->
            <div class="window" id="window1">
                <div class="resize-handle nw"></div>
                <div class="resize-handle ne"></div>
                <div class="resize-handle sw"></div>
                <div class="resize-handle se"></div>
                <div class="window-title">
                    <div class="window-title-text">Post - Notepad</div>
                    <div class="window-buttons">
                        <div class="window-button minimize-btn" data-window="window1" data-title="Welcome to Heart Slob">_</div>
                        <div class="window-button">□</div>
                        <div class="window-button">×</div>
                    </div>
                </div>
                <div class="post-info">Posted 3 years ago with 1030 notes</div>
                <div class="post-content">
                    <img src="/api/placeholder/400/320" alt="Welcome to Heart Slob" />
                    <div class="post-links">
                        <span class="star">★</span> site <span class="star">★</span> 
                        instagram <span class="star">★</span> 
                        tiktok <span class="star">★</span> 
                        twitter <span class="star">★</span>
                    </div>
                </div>
            </div>
            
            <!-- Post 2 -->
            <div class="window" id="window2">
                <div class="resize-handle nw"></div>
                <div class="resize-handle ne"></div>
                <div class="resize-handle sw"></div>
                <div class="resize-handle se"></div>
                <div class="window-title">
                    <div class="window-title-text">Post - Notepad</div>
                    <div class="window-buttons">
                        <div class="window-button minimize-btn" data-window="window2" data-title="Beaverton Fashion Cleaners">_</div>
                        <div class="window-button">□</div>
                        <div class="window-button">×</div>
                    </div>
                </div>
                <div class="post-info">Posted 1 day ago with 1161 notes</div>
                <div class="post-content">
                    <img src="/api/placeholder/400/320" alt="Beaverton Fashion Cleaners" />
                    <div class="post-caption">beaverton fashion cleaners</div>
                </div>
            </div>
            
            <!-- Post 3 -->
            <div class="window" id="window3">
                <div class="resize-handle nw"></div>
                <div class="resize-handle ne"></div>
                <div class="resize-handle sw"></div>
                <div class="resize-handle se"></div>
                <div class="window-title">
                    <div class="window-title-text">Post - Notepad</div>
                    <div class="window-buttons">
                        <div class="window-button minimize-btn" data-window="window3" data-title="Red Store Interior">_</div>
                        <div class="window-button">□</div>
                        <div class="window-button">×</div>
                    </div>
                </div>
                <div class="post-info">Posted 1 week ago with 5944 notes</div>
                <div class="post-content">
                    <img src="/api/placeholder/400/320" alt="Red Store Interior" />
                </div>
            </div>
            
            <!-- Post 4 -->
            <div class="window" id="window4">
                <div class="resize-handle nw"></div>
                <div class="resize-handle ne"></div>
                <div class="resize-handle sw"></div>
                <div class="resize-handle se"></div>
                <div class="window-title">
                    <div class="window-title-text">Post - Notepad</div>
                    <div class="window-buttons">
                        <div class="window-button minimize-btn" data-window="window4" data-title="Pink Wall with Green Tiles">_</div>
                        <div class="window-button">□</div>
                        <div class="window-button">×</div>
                    </div>
                </div>
                <div class="post-info">Posted 4 weeks ago with 4094 notes</div>
                <div class="post-content">
                    <img src="/api/placeholder/400/320" alt="Pink Wall with Green Tiles" />
                </div>
            </div>
        </div>
    </div>
    
    <!-- Start Menu (hidden by default) -->
    <div class="start-menu" id="startMenu">
        <div class="menu-item">
            <div class="menu-icon">📝</div>
            <div>Windows Update</div>
        </div>
        <div class="menu-divider"></div>
        <div class="menu-item">
            <div class="menu-icon">💾</div>
            <div>Programs</div>
        </div>
        <div class="menu-item">
            <div class="menu-icon">⭐</div>
            <div>Favorites</div>
        </div>
        <div class="menu-item" id="projectsMenuItem">
            <div class="menu-icon">📄</div>
            <div>Projects</div>
        </div>
        <div class="menu-item">
            <div class="menu-icon">⚙️</div>
            <div>Settings</div>
        </div>
        <div class="menu-item">
            <div class="menu-icon">🔍</div>
            <div>Find</div>
        </div>
        <div class="menu-item">
            <div class="menu-icon">❓</div>
            <div>Help</div>
        </div>
        <div class="menu-item">
            <div class="menu-icon">▶️</div>
            <div>Run...</div>
        </div>
        <div class="menu-divider"></div>
        <div class="menu-item">
            <div class="menu-icon">🔒</div>
            <div>Log Off...</div>
        </div>
        <div class="menu-item">
            <div class="menu-icon">⏻</div>
            <div>Shut Down...</div>
        </div>
    </div>
    
    <!-- Windows 98 Taskbar -->
    <div class="footer">
        <div class="start-button" id="startButton">
            <div class="start-logo">🪟</div>
            Start
        </div>
        <div class="taskbar-windows" id="taskbarWindows">
            <!-- Taskbar window buttons will be dynamically added here -->
        </div>
        <div class="time">07:59 PM</div>
    </div>
    
    <script>
                                                // Function to create a new window
                                                function createWindow(id, title, content) {
                                                    const windowHTML = `
                <div class="window" id="${id}">
                    <div class="resize-handle nw"></div>
                    <div class="resize-handle ne"></div>
                    <div class="resize-handle sw"></div>
                    <div class="resize-handle se"></div>
                    <div class="window-title">
                        <div class="window-title-text">${title}</div>
                        <div class="window-buttons">
                            <div class="window-button minimize-btn" data-window="${id}" data-title="${title}">_</div>
                            <div class="window-button">□</div>
                            <div class="window-button">×</div>
                        </div>
                    </div>
                    <div class="post-content">
                        ${content}
                    </div>
                </div>
            `;

                                                    const mainContent = document.querySelector('.main-content');
                                                    mainContent.insertAdjacentHTML('beforeend', windowHTML);

                                                    // Initialize window functionality
                                                    const newWindow = document.getElementById(id);
                                                    initializeWindow(newWindow);
                                                }

                                                // Function to initialize window functionality (dragging, resizing, etc.)
                                                function initializeWindow(window) {
                                                    // Add dragging functionality
                                                    const titleBar = window.querySelector('.window-title');
                                                    let isDragging = false;
                                                    let offsetX, offsetY;

                                                    titleBar.addEventListener('mousedown', function (e) {
                                                        if (!e.target.classList.contains('window-button')) {
                                                            isDragging = true;
                                                            const rect = window.getBoundingClientRect();
                                                            offsetX = e.clientX - rect.left;
                                                            offsetY = e.clientY - rect.top;
                                                            detachAllWindows();
                                                            window.style.zIndex = 100;
                                                        }
                                                    });

                                                    document.addEventListener('mousemove', function (e) {
                                                        if (isDragging) {
                                                            window.style.left = (e.clientX - offsetX) + 'px';
                                                            window.style.top = (e.clientY - offsetY) + 'px';
                                                        }
                                                    });

                                                    document.addEventListener('mouseup', function () {
                                                        isDragging = false;
                                                    });

                                                    // Add resizing functionality
                                                    const resizeHandles = window.querySelectorAll('.resize-handle');
                                                    resizeHandles.forEach(handle => {
                                                        let isResizing = false;
                                                        let startX, startY, startWidth, startHeight, startLeft, startTop;

                                                        handle.addEventListener('mousedown', function (e) {
                                                            isResizing = true;
                                                            const rect = window.getBoundingClientRect();
                                                            startX = e.clientX;
                                                            startY = e.clientY;
                                                            startWidth = rect.width;
                                                            startHeight = rect.height;
                                                            startLeft = rect.left;
                                                            startTop = rect.top;
                                                            detachAllWindows();
                                                            window.style.zIndex = 100;
                                                            e.preventDefault();
                                                        });

                                                        document.addEventListener('mousemove', function (e) {
                                                            if (!isResizing) return;
                                                            const deltaX = e.clientX - startX;
                                                            const deltaY = e.clientY - startY;

                                                            if (handle.classList.contains('se')) {
                                                                window.style.width = Math.max(200, startWidth + deltaX) + 'px';
                                                                window.style.height = Math.max(150, startHeight + deltaY) + 'px';
                                                            } else if (handle.classList.contains('sw')) {
                                                                const newWidth = Math.max(200, startWidth - deltaX);
                                                                const newLeft = startLeft + (startWidth - newWidth);
                                                                window.style.width = newWidth + 'px';
                                                                window.style.left = newLeft + 'px';
                                                                window.style.height = Math.max(150, startHeight + deltaY) + 'px';
                                                            } else if (handle.classList.contains('ne')) {
                                                                window.style.width = Math.max(200, startWidth + deltaX) + 'px';
                                                                const newHeight = Math.max(150, startHeight - deltaY);
                                                                const newTop = startTop + (startHeight - newHeight);
                                                                window.style.height = newHeight + 'px';
                                                                window.style.top = newTop + 'px';
                                                            } else if (handle.classList.contains('nw')) {
                                                                const newWidth = Math.max(200, startWidth - deltaX);
                                                                const newHeight = Math.max(150, startHeight - deltaY);
                                                                const newLeft = startLeft + (startWidth - newWidth);
                                                                const newTop = startTop + (startHeight - newHeight);
                                                                window.style.width = newWidth + 'px';
                                                                window.style.height = newHeight + 'px';
                                                                window.style.left = newLeft + 'px';
                                                                window.style.top = newTop + 'px';
                                                            }
                                                        });

                                                        document.addEventListener('mouseup', function () {
                                                            isResizing = false;
                                                        });
                                                    });

                                                    // Add minimize functionality
                                                    const minimizeBtn = window.querySelector('.minimize-btn');
                                                    minimizeBtn.addEventListener('click', function () {
                                                        const windowId = this.dataset.window;
                                                        const windowTitle = this.dataset.title;
                                                        minimizeWindow(windowId, windowTitle);
                                                    });

                                                    // Add close button functionality
                                                    const closeBtn = window.querySelector('.window-buttons .window-button:last-child');
                                                    closeBtn.addEventListener('click', function () {
                                                        const windowId = window.id;

                                                        // Remove from taskbar if minimized
                                                        if (windows[windowId]) {
                                                            if (windows[windowId].taskbarButton) {
                                                                windows[windowId].taskbarButton.remove();
                                                            }
                                                            delete windows[windowId];
                                                        }

                                                        // Remove the window from DOM
                                                        window.remove();
                                                    });
                                                }

                                                // Add click handler for Projects menu item
                                                document.querySelector('#projectsMenuItem').addEventListener('click', function () {
                                                    // Define the projects data
                                                    const projects = [
                                                        {
                                                            id: 'project1',
                                                            title: 'Personal Website',
                                                            content: `
                                    <div style="padding: 15px;">
                                        <h3 style="margin-bottom: 10px;">Personal Website</h3>
                                        <p>A responsive portfolio website built with:</p>
                                        <ul style="margin: 10px 0;">
                                            <li>HTML5 & CSS3</li>
                                            <li>JavaScript</li>
                                            <li>Windows 98 aesthetic</li>
                                        </ul>
                                        <p>Features draggable windows and retro UI elements.</p>
                                    </div>
                                `
                                                        },
                                                        {
                                                            id: 'project2',
                                                            title: 'Photography Portfolio',
                                                            content: `
                                    <div style="padding: 15px;">
                                        <img src="/media/Procreate/Procreate_1.jpg" alt="Illustration">
                                    </div>
                                `
                                                        },
                                                        {
                                                            id: 'project3',
                                                            title: 'Design Work',
                                                            content: `
                                    <div style="padding: 15px;">
                                        <h3 style="margin-bottom: 10px;">Design Work</h3>
                                        <p>Selected graphic design projects including:</p>
                                        <ul style="margin: 10px 0;">
                                            <li>Brand identities</li>
                                            <li>Editorial layouts</li>
                                            <li>Digital illustrations</li>
                                        </ul>
                                        <p>Created using Adobe Creative Suite.</p>
                                    </div>
                                `
                                                        },
                                                        {
                                                            id: 'project4',
                                                            title: 'Experiments',
                                                            content: `
                                    <div style="padding: 15px;">
                                        <h3 style="margin-bottom: 10px;">Experiments</h3>
                                        <p>A playground for creative coding including:</p>
                                        <ul style="margin: 10px 0;">
                                            <li>Interactive animations</li>
                                            <li>Generative art</li>
                                            <li>Web experiments</li>
                                        </ul>
                                        <p>Built with various web technologies.</p>
                                    </div>
                                `
                                                        }
                                                    ];

                                                    // Check which project windows exist and which need to be created
                                                    const existingWindows = new Set();
                                                    projects.forEach(project => {
                                                        const window = document.getElementById(project.id);
                                                        if (window) {
                                                            existingWindows.add(project.id);
                                                            // Bring existing window to front
                                                            window.style.zIndex = 100;
                                                        }
                                                    });

                                                    // Create missing windows
                                                    projects.forEach((project, index) => {
                                                        if (!existingWindows.has(project.id)) {
                                                            createWindow(project.id, project.title, project.content);

                                                            // Position the window in a 2x2 grid
                                                            const window = document.getElementById(project.id);
                                                            window.style.position = 'absolute';

                                                            // Window dimensions and spacing
                                                            const windowWidth = 400;
                                                            const windowHeight = 300;
                                                            const horizontalGap = 30;
                                                            const verticalGap = 30;

                                                            // Calculate grid position (2x2)
                                                            const row = Math.floor(index / 2);
                                                            const col = index % 2;

                                                            // Calculate total grid dimensions
                                                            const totalWidth = (windowWidth * 2) + horizontalGap;

                                                            // Center horizontally relative to viewport
                                                            const leftOffset = (document.documentElement.clientWidth - totalWidth) / 2;

                                                            // Position windows
                                                            const x = leftOffset + (col * (windowWidth + horizontalGap));
                                                            const y = 400 + (row * (windowHeight + verticalGap));

                                                            window.style.left = x + 'px';
                                                            window.style.top = y + 'px';
                                                            window.style.width = windowWidth + 'px';
                                                            window.style.height = windowHeight + 'px';
                                                        }
                                                    });

                                                    // Close the start menu after clicking
                                                    document.getElementById('startMenu').style.display = 'none';
                                                });

        // Simple script to toggle the start menu
        document.getElementById('startButton').addEventListener('click', function() {
            const startMenu = document.getElementById('startMenu');
            if (startMenu.style.display === 'block') {
                startMenu.style.display = 'none';
            } else {
                startMenu.style.display = 'block';
            }
        });
        
        // Hide start menu when clicking elsewhere
        document.addEventListener('click', function(event) {
            if (!event.target.closest('#startMenu') && !event.target.closest('#startButton')) {
                document.getElementById('startMenu').style.display = 'none';
            }
        });
        
        // Initialize the windows
        const windows = {};
        const taskbarWindows = document.getElementById('taskbarWindows');
        
        // Function to minimize a window
        function minimizeWindow(windowId, windowTitle) {
            const window = document.getElementById(windowId);
            
            // Create a taskbar button if it doesn't exist
            if (!windows[windowId]) {
                const taskbarButton = document.createElement('div');
                taskbarButton.className = 'taskbar-window';
                taskbarButton.textContent = windowTitle || 'Post - Notepad';
                taskbarButton.dataset.window = windowId;
                taskbarWindows.appendChild(taskbarButton);
                
                // Add click event to restore window
                taskbarButton.addEventListener('click', function() {
                    restoreWindow(windowId);
                });
                
                windows[windowId] = {
                    window: window,
                    taskbarButton: taskbarButton,
                    minimized: false
                };
            }
            
            // Add animation class and set minimized state
            window.classList.add('minimize-animation');
            
            // After animation completes, add minimized class
            setTimeout(() => {
                window.classList.remove('minimize-animation');
                window.classList.add('minimized');
                windows[windowId].minimized = true;
            }, 300);
        }
        
        // Function to restore a window
        function restoreWindow(windowId) {
            const windowData = windows[windowId];
            if (windowData && windowData.minimized) {
                const window = windowData.window;
                
                // Remove minimized class and add restore animation
                window.classList.remove('minimized');
                window.classList.add('restore-animation');
                
                // After animation completes, remove restore animation class
                setTimeout(() => {
                    window.classList.remove('restore-animation');
                    windowData.minimized = false;

                    // Remove the taskbar button
                    if (windowData.taskbarButton) {
                        windowData.taskbarButton.remove();
                        delete windows[windowId];
                    }
                }, 300);
            }
        }
        
        // Add event listeners to minimize buttons
        document.querySelectorAll('.minimize-btn').forEach(button => {
            button.addEventListener('click', function() {
                const windowId = this.dataset.window;
                const windowTitle = this.dataset.title;
                minimizeWindow(windowId, windowTitle);
            });
        });
        
                    // Function to detach all windows from grid
                    function detachAllWindows() {
                        const mainContent = document.querySelector('.main-content');
                        const mainRect = mainContent.getBoundingClientRect();
                        const windows = Array.from(document.querySelectorAll('.window'));

                        // First pass: get all positions before making any changes
                        const positions = windows.map(window => {
                            const rect = window.getBoundingClientRect();
                            return {
                                window: window,
                                left: rect.left,
                                top: rect.top,
                                width: rect.width,
                                height: rect.height
                            };
                        });

                        // Second pass: apply positions
                        positions.forEach(pos => {
                            if (!pos.window.classList.contains('detached')) {
                                pos.window.classList.add('detached');
                                pos.window.style.position = 'absolute';
                                pos.window.style.left = pos.left + 'px';
                                pos.window.style.top = pos.top + 'px';
                                pos.window.style.width = pos.width + 'px';
                                pos.window.style.height = pos.height + 'px';
                            }
                        });

                        // Remove grid display from main content to prevent layout shifts
                        mainContent.style.display = 'block';
                    }
                
        // Allow windows to be draggable
        document.querySelectorAll('.window-title').forEach(titleBar => {
            let isDragging = false;
            let offsetX, offsetY;
            
            titleBar.addEventListener('mousedown', function(e) {
                // Only handle drag if not clicking buttons
                if (!e.target.classList.contains('window-button')) {
                    isDragging = true;
                    const window = this.closest('.window');
                    
                    // Calculate the offset
                    const rect = window.getBoundingClientRect();
                    offsetX = e.clientX - rect.left;
                    offsetY = e.clientY - rect.top;
                    
                    // Detach all windows when starting to drag
                    detachAllWindows();
                    
                    // Bring window to front
                    window.style.zIndex = 100;
                }
            });
            
            document.addEventListener('mousemove', function(e) {
                if (isDragging) {
                    const window = titleBar.closest('.window');
                    window.style.left = (e.clientX - offsetX) + 'px';
                    window.style.top = (e.clientY - offsetY) + 'px';
                }
            });
            
            document.addEventListener('mouseup', function() {
                isDragging = false;
            });
        });
        
                // Handle window resizing
                document.querySelectorAll('.resize-handle').forEach(handle => {
                    let isResizing = false;
                    let startX, startY, startWidth, startHeight, startLeft, startTop;

                const handleMouseDown = function (e) {
                    isResizing = true;
                    const window = this.closest('.window');
                    const rect = window.getBoundingClientRect();

                startX = e.clientX;
                startY = e.clientY;
                startWidth = rect.width;
                startHeight = rect.height;
                startLeft = rect.left;
                startTop = rect.top;

                    // Detach all windows when starting to resize
                    detachAllWindows();
                
                    window.style.zIndex = 100;
                e.preventDefault();
            };

                const handleMouseMove = function (e) {
                    if (!isResizing) return;

                const window = handle.closest('.window');
                const deltaX = e.clientX - startX;
                const deltaY = e.clientY - startY;

                if (handle.classList.contains('se')) {
                    window.style.width = Math.max(200, startWidth + deltaX) + 'px';
                    window.style.height = Math.max(150, startHeight + deltaY) + 'px';
                } else if (handle.classList.contains('sw')) {
                    const newWidth = Math.max(200, startWidth - deltaX);
                    const newLeft = startLeft + (startWidth - newWidth);
                    window.style.width = newWidth + 'px';
                    window.style.left = newLeft + 'px';
                    window.style.height = Math.max(150, startHeight + deltaY) + 'px';
                } else if (handle.classList.contains('ne')) {
                    window.style.width = Math.max(200, startWidth + deltaX) + 'px';
                    const newHeight = Math.max(150, startHeight - deltaY);
                    const newTop = startTop + (startHeight - newHeight);
                    window.style.height = newHeight + 'px';
                    window.style.top = newTop + 'px';
                } else if (handle.classList.contains('nw')) {
                    const newWidth = Math.max(200, startWidth - deltaX);
                    const newHeight = Math.max(150, startHeight - deltaY);
                    const newLeft = startLeft + (startWidth - newWidth);
                    const newTop = startTop + (startHeight - newHeight);
                    window.style.width = newWidth + 'px';
                    window.style.height = newHeight + 'px';
                    window.style.left = newLeft + 'px';
                    window.style.top = newTop + 'px';
                }
            };

                    const handleMouseUp = function () {
                    isResizing = false;
            };

                handle.addEventListener('mousedown', handleMouseDown);
                document.addEventListener('mousemove', handleMouseMove);
                document.addEventListener('mouseup', handleMouseUp);
            });

        // Update the time
        function updateTime() {
            const now = new Date();
            let hours = now.getHours();
            const minutes = now.getMinutes().toString().padStart(2, '0');
            const ampm = hours >= 12 ? 'PM' : 'AM';
            
            hours = hours % 12;
            hours = hours ? hours : 12; // Convert 0 to 12
            
            document.querySelector('.time').textContent = `${hours}:${minutes} ${ampm}`;
        }
        
        // Update time initially and every minute
        updateTime();
        setInterval(updateTime, 60000);
    </script>
</body>
</html>